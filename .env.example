# Database (Neon)
DATABASE_URL="postgresql://user:password@host.neon.tech/ranz?sslmode=require"

# Clerk Authentication
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY="pk_test_..."
CLERK_SECRET_KEY="sk_test_..."
CLERK_WEBHOOK_SECRET="whsec_..."
NEXT_PUBLIC_CLERK_SIGN_IN_URL="/sign-in"
NEXT_PUBLIC_CLERK_SIGN_UP_URL="/sign-up"
NEXT_PUBLIC_CLERK_AFTER_SIGN_IN_URL="/dashboard"
NEXT_PUBLIC_CLERK_AFTER_SIGN_UP_URL="/onboarding"

# Satellite domain config (set to true for Roofing Reports app)
NEXT_PUBLIC_CLERK_IS_SATELLITE="false"
NEXT_PUBLIC_CLERK_DOMAIN="localhost:3000"

# Cloudflare R2
R2_ACCOUNT_ID="..."
R2_ACCESS_KEY_ID="..."
R2_SECRET_ACCESS_KEY="..."
R2_BUCKET_NAME="ranz-portal"
R2_PUBLIC_URL="https://pub-xxx.r2.dev"

# Email (Resend)
RESEND_API_KEY="re_..."
EMAIL_FROM="RANZ Portal <portal@ranz.co.nz>"

# App
NEXT_PUBLIC_APP_URL="http://localhost:3000"

# Cron (for scheduled alert jobs)
CRON_SECRET="your-cron-secret-here"

# =============================================================================
# Custom Authentication (Phase 1)
# =============================================================================

# JWT RSA Key Pair
# Generate with: npx tsx -e "import('./src/lib/auth/jwt').then(m => m.generateRSAKeyPair()).then(console.log)"
# Store private key in Quality Program only. Share public key with satellite apps.
JWT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"
JWT_PUBLIC_KEY="-----BEGIN PUBLIC KEY-----\nYOUR_PUBLIC_KEY_HERE\n-----END PUBLIC KEY-----"

# Key ID for JWT header (for key rotation support)
JWT_KEY_ID=ranz-auth-key-1

# Auth mode: clerk | custom | oidc
# - clerk: Use existing Clerk authentication
# - custom: Use custom JWT authentication (manual credentials)
# - oidc: Use SwiftFox OIDC (future)
AUTH_MODE=clerk

# =============================================================================
# Upstash Redis (Rate Limiting)
# =============================================================================

# Create a Redis database at https://console.upstash.com
# Select Sydney region for best NZ latency
# Copy REST API credentials from database details page

UPSTASH_REDIS_REST_URL=https://your-database.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token-here

# =============================================================================
# Internal API (Satellite App Communication)
# =============================================================================

# Shared secret for server-to-server communication between RANZ apps
# Generate with: openssl rand -hex 32
# Set this same key in Roofing Report as QUALITY_PROGRAM_API_KEY
INTERNAL_API_KEY=
